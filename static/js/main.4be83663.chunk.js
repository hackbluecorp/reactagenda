(this.webpackJsonpreactagenda=this.webpackJsonpreactagenda||[]).push([[0],{159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(35),c=a.n(i),l=a(5),o=a(8),s=(a(54),a(89),a(11)),d=a(12),m=a(14),u=a(13),h=(a(25),a(9)),E=(a(33),a(34),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.service,r=a.dateFormatString,i=a.client,c=a.confirmed,l=a.dateFormatDate;t.push({key:e.id,doc:e,service:n,dateFormatString:r,client:i,confirmed:c,dateFormatDate:l})})),n.setState({agendas:t})},n.ref=h.firestore().collection("agendas").orderBy("dateFormatDate","desc"),n.unsubscribe=null,n.state={agendas:[],date:new Date},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate),this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"activeDate",value:function(e){return r.a.createElement("tbody",null,r.a.createElement("tr",{bgcolor:"#fff"},r.a.createElement("td",null,e.service),r.a.createElement("td",null,e.dateFormatString),r.a.createElement("td",null,e.client),r.a.createElement("td",null,r.a.createElement("input",{style:{width:16,height:16},type:"checkbox",checked:e.confirmed}))))}},{key:"noActiveDate",value:function(e){return r.a.createElement("tbody",null,r.a.createElement("tr",{bgcolor:"#ddd"},r.a.createElement("td",null,r.a.createElement("s",null,e.service)),r.a.createElement("td",null,r.a.createElement("s",null,e.dateFormatString)),r.a.createElement("td",null,r.a.createElement("s",null,e.client)),r.a.createElement("td",null,r.a.createElement("input",{style:{width:16,height:16},type:"checkbox",checked:e.confirmed}))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"panel panel-default"},r.a.createElement("div",{class:"panel-heading"},r.a.createElement("h3",{class:"panel-title"},"CITAS AGENDADAS")),r.a.createElement("div",{class:"panel-body"},r.a.createElement("div",{class:"row"},r.a.createElement("h4",null,r.a.createElement(l.b,{to:"/create",class:"btn btn-primary"},"Agendar Una Cita")),r.a.createElement("h4",{style:{marginLeft:"auto"}},r.a.createElement(l.b,{to:"/AdminApp",class:"btn btn-dark"},"Acceso Administrador"))),r.a.createElement("div",null,r.a.createElement("strong",null,"Fecha y hora actual ")),r.a.createElement("div",null,r.a.createElement("label",null,this.state.date.toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:"false"}))),r.a.createElement("table",{class:"table table-stripe"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Tipo de Servicio"),r.a.createElement("th",null,"Fecha y Hora"),r.a.createElement("th",null,"Nombre del Cliente"),r.a.createElement("th",null,"Agenda Confirmada"))),this.state.agendas.map((function(t){if(t.dateFormatDate.toDate().getFullYear("en-EN")>e.state.date.getFullYear("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getFullYear("en-EN")<e.state.date.getFullYear("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getFullYear("en-EN")==e.state.date.getFullYear("en-EN")){if(t.dateFormatDate.toDate().getMonth("en-EN")>e.state.date.getMonth("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getMonth("en-EN")<e.state.date.getMonth("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getMonth("en-EN")==e.state.date.getMonth("en-EN")){if(t.dateFormatDate.toDate().getDate("en-EN")>e.state.date.getDate("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getDate("en-EN")<e.state.date.getDate("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getDate("en-EN")==e.state.date.getDate("en-EN")){if(t.dateFormatDate.toDate().getHours("en-EN")>e.state.date.getHours("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getHours("en-EN")<e.state.date.getHours("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getHours("en-EN")==e.state.date.getHours("en-EN")){if(t.dateFormatDate.toDate().getMinutes("en-EN")>e.state.date.getMinutes("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getMinutes("en-EN")<e.state.date.getMinutes("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getMinutes("en-EN")==e.state.date.getMinutes("en-EN"))return t.dateFormatDate.toDate().getSeconds("en-EN")>=e.state.date.getSeconds("en-EN")?e.activeDate(t):e.noActiveDate(t)}}}}}))))))}}]),a}(n.Component)),v=a(32),g=a(36),p=a(37),f=a.n(p),b=(a(72),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n,r;Object(s.a)(this,a);return(r=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.idService,r=a.name,i=a.description;t.push({key:e.id,doc:e,idService:n,name:r,description:i})})),r.setState({services:t})},r.onChangeOnlyLetters=function(e){var t=r.state;t[e.target.name]=e.target.value,t[e.target.name]=t[e.target.name].replace(/[^A-Za-z\xc0-\xff]/gi," "),r.setState(t)},r.onChangeChecked=function(e){r.setState({confirmed:e.target.checked})},r.onChange=function(e){var t=r.state;t[e.target.name]=e.target.value,r.setState({state:t})},r.onSubmit=function(e){e.preventDefault();var t=r.state,a=t.service,n=t.dateFormatString,i=t.client,c=t.confirmed,l=t.dateFormatDate;h.firestore().collection("agendas").doc(r.state.key).set({service:a,dateFormatString:n,client:i,confirmed:c,dateFormatDate:l}).then((function(e){r.setState({key:"",service:"",dateFormatString:"",client:"",confirmed:!1,dateFormatDate:""}),r.props.history.push("/AdminApp")})).catch((function(e){console.error("Error adding document: ",e)})),alert("Registro Editado Exitosamente!!")},r.list=h.firestore().collection("services").orderBy("idService","asc"),r.state=(n={service:"",dateFormatString:""},Object(v.a)(n,"dateFormatString",(new Date).toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:"false"})),Object(v.a)(n,"client",""),Object(v.a)(n,"confirmed",!1),Object(v.a)(n,"key",""),Object(v.a)(n,"dateFormatDate",""),Object(v.a)(n,"services",[]),n),r.handleChange=r.handleChange.bind(Object(g.a)(r)),r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.firestore().collection("agendas").doc(this.props.match.params.id).get().then((function(t){if(t.exists){var a=t.data();e.setState({key:t.id,service:a.service,dateFormatString:a.dateFormatString,client:a.client,confirmed:a.confirmed,dateFormatDate:a.dateFormatDate})}else console.log("No such document!")})),this.unsubscribe=this.list.onSnapshot(this.onCollectionUpdate)}},{key:"handleChange",value:function(e){this.setState({startDate:e,dateFormatString:e.toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:"false"}),dateFormatDate:e})}},{key:"render",value:function(){return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"panel panel-default"},r.a.createElement("div",{class:"panel-heading"},r.a.createElement("h3",{class:"panel-title"},"AREA DE ADMINISTRADOR - EDITAR AGENDAMIENTO")),r.a.createElement("div",{class:"panel-body"},r.a.createElement("h4",null,r.a.createElement(l.b,{to:"/AdminShow/".concat(this.state.key),class:"btn btn-primary"},"Volver")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"select-service"},"Tipo de Servicio"),r.a.createElement("div",null,r.a.createElement("select",{name:"service",id:"select-service",value:this.state.service,onChange:this.onChange,"data-toggle":"tooltip",title:"Escoge un Servicio",required:!0},this.state.services.map((function(e){return r.a.createElement("option",null,e.name)}))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"dateFormatString"},"Fecha y Hora"),r.a.createElement("div",null,r.a.createElement(f.a,{selected:this.state.startDate,onChange:this.handleChange,showTimeSelect:!0,locale:"es",timeFormat:"h:mm aa",name:"startDate",timeIntervals:30,timeCaption:"Hora",dateFormat:"d MMMM, yyyy h:mm aa",className:"form-control",placeholderText:this.state.dateFormatString,"data-toggle":"tooltip",title:"Escoge una Fecha"}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"client"},"Nombre del Cliente"),r.a.createElement("input",{type:"text",class:"form-control",name:"client",value:this.state.client,onChange:this.onChangeOnlyLetters,placeholder:"Nombre del Cliente",minlength:"5",maxlength:"40","data-toggle":"tooltip",title:"Ingresa tu Nombre",required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{for:"confirmed"},"Agenda Confirmada"),r.a.createElement("div",null,r.a.createElement("input",{style:{width:16,height:16},type:"checkbox",value:this.state.confirmed,checked:this.state.confirmed,onChange:this.onChangeChecked,"data-toggle":"tooltip",title:"Click para Agendar Servicio"})))),r.a.createElement("button",{type:"submit",class:"btn btn-success"},"Guardar Cambios")))))}}]),a}(n.Component));h.initializeApp({apiKey:"AIzaSyBr3_c6K2hMVNIa1A-rtFcYgqXZznzRVrs",authDomain:"reactagenda-5ed74.firebaseapp.com",databaseURL:"https://reactagenda-5ed74.firebaseio.com",projectId:"reactagenda-5ed74",storageBucket:"reactagenda-5ed74.appspot.com",messagingSenderId:"931384845335",appId:"1:931384845335:web:31aa6d2bf2b72e1c7e6852"}),h.firestore().settings({});var D=h,S=a(83);Object(p.registerLocale)("es",S.a);var y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a);return(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.idService,r=a.name,i=a.description;t.push({key:e.id,doc:e,idService:n,name:r,description:i})})),n.setState({services:t})},n.onChangeOnlyLetters=function(e){var t=n.state;t[e.target.name]=e.target.value,t[e.target.name]=t[e.target.name].replace(/[^A-Za-z\xc0-\xff]/gi," "),n.setState(t)},n.onChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t),console.log("OnChange ",e.target.value)},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.service,r=t.dateFormatString,i=t.client,c=t.confirmed,l=t.dateFormatDate;n.ref.add({service:a,dateFormatString:r,client:i,confirmed:c,dateFormatDate:l}).then((function(e){n.setState({service:"",dateFormatString:"",client:"",confirmed:!1,dateFormatDate:""}),n.props.history.push("/")})).catch((function(e){console.error("Error adding document: ",e)})),alert("Cita Creada Exitosamente!!")},n.ref=D.firestore().collection("agendas"),n.list=D.firestore().collection("services").orderBy("idService","asc"),n.state={service:"",dateFormatString:(new Date).toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:"false"}),client:"",confirmed:!1,dateFormatDate:new Date,startDate:"",services:[]},n.handleChange=n.handleChange.bind(Object(g.a)(n)),n.unsubscribe=null,n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.list.onSnapshot(this.onCollectionUpdate)}},{key:"handleChange",value:function(e){this.setState({startDate:e,dateFormatString:e.toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:"false"}),dateFormatDate:e})}},{key:"render",value:function(){var e=this.state,t=e.service,a=(e.dateFormatString,e.client);e.confirmed;return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"panel panel-default"},r.a.createElement("div",{class:"panel-heading"},r.a.createElement("h3",{class:"panel-title"},"AGENDAR NUEVO SERVICIO")),r.a.createElement("div",{class:"panel-body"},r.a.createElement("h4",null,r.a.createElement(l.b,{to:"/",class:"btn btn-primary"},"Volver")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"select-service"},"Tipo de Servicio"),r.a.createElement("div",null,r.a.createElement("select",{name:"service",id:"select-service",value:t,onChange:this.onChange,"data-toggle":"tooltip",title:"Escoge un Servicio",required:!0},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Escoge un Servicio..."),this.state.services.map((function(e){return r.a.createElement("option",null,e.name)}))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"dateFormatString"},"Fecha y Hora"),r.a.createElement("div",null,r.a.createElement(f.a,{selected:this.state.startDate,onChange:this.handleChange,showTimeSelect:!0,locale:"es",timeFormat:"h:mm aa",name:"startDate",timeIntervals:30,timeCaption:"Hora",dateFormat:"d MMMM, yyyy h:mm aa",className:"form-control",placeholderText:"Click para Escoger una Fecha","data-toggle":"tooltip",title:"Escoge una Fecha",required:!0}))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"client"},"Nombre del Cliente"),r.a.createElement("input",{type:"text",class:"form-control",name:"client",value:a,onChange:this.onChangeOnlyLetters,placeholder:"Nombre del Cliente",minlength:"5",maxlength:"40","data-toggle":"tooltip",title:"Ingresa tu Nombre",required:!0})),r.a.createElement("button",{type:"submit",class:"btn btn-success"},"Aceptar")))))}}]),a}(n.Component),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={Coment:{},key:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.firestore().collection("agendas").doc(this.props.match.params.id).get().then((function(t){t.exists?e.setState({Coment:t.data(),key:t.id,isLoading:!1}):console.log("No such document!")}))}},{key:"delete",value:function(e){var t=this;h.firestore().collection("agendas").doc(e).delete().then((function(){alert("Registro Eliminado Exitosamente!!"),console.log("Document successfully deleted!"),t.props.history.push("/AdminApp")})).catch((function(e){console.error("Error removing document: ",e)}))}},{key:"render",value:function(){return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"panel panel-default"},r.a.createElement("div",{class:"panel-heading"},r.a.createElement("h3",{class:"panel-title"},"AREA DE ADMINISTRADOR - DETALLE DEL AGENDAMIENTO"),r.a.createElement("h4",null,r.a.createElement(l.b,{to:"/AdminApp",class:"btn btn-primary"},"Volver"))),r.a.createElement("hr",null),r.a.createElement("div",{class:"panel-body"},r.a.createElement("dl",null,r.a.createElement("dt",null,"Tipo de Servicio"),r.a.createElement("dd",null,this.state.Coment.service),r.a.createElement("dt",null,"Fecha y Hora"),r.a.createElement("dd",null,this.state.Coment.dateFormatString),r.a.createElement("dt",null,"Nombre del Cliente"),r.a.createElement("dd",null,this.state.Coment.client),r.a.createElement("dt",null,"Agenda Confirmada"),r.a.createElement("dd",null,r.a.createElement("input",{style:{width:16,height:16},type:"checkbox",checked:this.state.Coment.confirmed}))),r.a.createElement(l.b,{to:"/AdminEdit/".concat(this.state.key),class:"btn btn-success"},"Editar"),"\xa0",r.a.createElement("button",{onClick:this.delete.bind(this,this.state.key),class:"btn btn-danger"},"Eliminar"))))}}]),a}(n.Component),F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.service,r=a.dateFormatString,i=a.client,c=a.confirmed,l=a.dateFormatDate;t.push({key:e.id,doc:e,service:n,dateFormatString:r,client:i,confirmed:c,dateFormatDate:l})})),n.setState({agendas:t})},n.ref=h.firestore().collection("agendas").orderBy("dateFormatDate","desc"),n.unsubscribe=null,n.state={agendas:[],date:new Date},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate),this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"activeDate",value:function(e){return r.a.createElement("tbody",null,r.a.createElement("tr",{bgcolor:"#fff"},r.a.createElement("td",null,r.a.createElement(l.b,{to:"/adminshow/".concat(e.key),class:"btn btn-primary btn-sm"},"Detalle")),r.a.createElement("td",null,e.service),r.a.createElement("td",null,e.dateFormatString),r.a.createElement("td",null,e.client),r.a.createElement("td",null,r.a.createElement("input",{style:{width:16,height:16},type:"checkbox",checked:e.confirmed}))))}},{key:"noActiveDate",value:function(e){return r.a.createElement("tbody",null,r.a.createElement("tr",{bgcolor:"#ddd"},r.a.createElement("td",null,r.a.createElement(l.b,{to:"/adminshow/".concat(e.key),class:"btn btn-primary btn-sm"},"Detalle")),r.a.createElement("td",null,r.a.createElement("s",null,e.service)),r.a.createElement("td",null,r.a.createElement("s",null,e.dateFormatString)),r.a.createElement("td",null,r.a.createElement("s",null,e.client)),r.a.createElement("td",null,r.a.createElement("input",{style:{width:16,height:16},type:"checkbox",checked:e.confirmed}))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"panel panel-default"},r.a.createElement("div",{class:"panel-heading"},r.a.createElement("h3",{class:"panel-title"},"AREA DE ADMINISTRADOR - CITAS AGENDADAS")),r.a.createElement("div",{class:"panel-body"},r.a.createElement("div",{class:"row"},r.a.createElement("h4",null,r.a.createElement(l.b,{to:"/AdminService",class:"btn btn-warning"},"Gestionar Servicios")),r.a.createElement("h4",{style:{marginLeft:"auto"}},r.a.createElement(l.b,{to:"/",class:"btn btn-dark"},"Cerrar Sesion"))),r.a.createElement("div",null,r.a.createElement("strong",null,"Fecha y hora actual ")),r.a.createElement("div",null,r.a.createElement("label",null,this.state.date.toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:"false"}))),r.a.createElement("table",{class:"table table-stripe"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Detalle del Servicio"),r.a.createElement("th",null,"Tipo de Servicio"),r.a.createElement("th",null,"Fecha y Hora"),r.a.createElement("th",null,"Nombre del Cliente"),r.a.createElement("th",null,"Agenda Confirmada"))),this.state.agendas.map((function(t){if(t.dateFormatDate.toDate().getFullYear("en-EN")>e.state.date.getFullYear("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getFullYear("en-EN")<e.state.date.getFullYear("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getFullYear("en-EN")==e.state.date.getFullYear("en-EN")){if(t.dateFormatDate.toDate().getMonth("en-EN")>e.state.date.getMonth("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getMonth("en-EN")<e.state.date.getMonth("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getMonth("en-EN")==e.state.date.getMonth("en-EN")){if(t.dateFormatDate.toDate().getDate("en-EN")>e.state.date.getDate("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getDate("en-EN")<e.state.date.getDate("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getDate("en-EN")==e.state.date.getDate("en-EN")){if(t.dateFormatDate.toDate().getHours("en-EN")>e.state.date.getHours("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getHours("en-EN")<e.state.date.getHours("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getHours("en-EN")==e.state.date.getHours("en-EN")){if(t.dateFormatDate.toDate().getMinutes("en-EN")>e.state.date.getMinutes("en-EN"))return e.activeDate(t);if(t.dateFormatDate.toDate().getMinutes("en-EN")<e.state.date.getMinutes("en-EN"))return e.noActiveDate(t);if(t.dateFormatDate.toDate().getMinutes("en-EN")==e.state.date.getMinutes("en-EN"))return t.dateFormatDate.toDate().getSeconds("en-EN")>=e.state.date.getSeconds("en-EN")?e.activeDate(t):e.noActiveDate(t)}}}}}))))))}}]),a}(n.Component),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.idService,r=a.name,i=a.description;t.push({key:e.id,doc:e,idService:n,name:r,description:i})})),n.setState({services:t})},n.ref=h.firestore().collection("services").orderBy("idService","asc"),n.state={services:[],service:""},n.unsubscribe=null,n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate)}},{key:"delete",value:function(e){var t=this;h.firestore().collection("services").doc(e).delete().then((function(){alert("Registro Eliminado Exitosamente!!"),console.log("Document successfully deleted!"),t.props.history.push("/AdminService")})).catch((function(e){console.error("Error removing document: ",e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"panel panel-default"},r.a.createElement("div",{class:"panel-heading"},r.a.createElement("h3",{class:"panel-title"},"AREA DE ADMINISTRADOR - GESTION DE SERVICIOS")),r.a.createElement("div",{class:"panel-body"},r.a.createElement("h4",null,r.a.createElement(l.b,{to:"/AdminApp",class:"btn btn-primary"},"Volver"),"\xa0",r.a.createElement(l.b,{to:"/AdminCreateService",class:"btn btn-success"},"Crear Nuevo Servicio")),r.a.createElement("table",{class:"table table-stripe"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Gesti\xf3n del Servicio"),r.a.createElement("th",null,"Nombre del Servicio"),r.a.createElement("th",null,"Descripci\xf3n del Servicio"))),this.state.services.map((function(t){return r.a.createElement("tbody",null,r.a.createElement("tr",{bgcolor:"#fff"},r.a.createElement("td",null,r.a.createElement(l.b,{to:"/AdminEditService/".concat(t.key),class:"btn btn-warning btn-sm"},"Editar"),"\xa0",console.log("key ",t.key),r.a.createElement("button",{onClick:e.delete.bind(e,t.key),class:"btn btn-danger btn-sm"},"Eliminar")),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.description)))}))))))}}]),a}(n.Component),A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[],a=[];e.forEach((function(e){var n=e.data(),r=n.idService,i=n.name,c=n.description;t.push({key:e.id,doc:e,idService:r,name:i,description:c}),a.push({idService:r})})),n.setState({services:t,idService:Math.max.apply(Math,a.map((function(e){return e.idService})))+1})},n.onChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t)},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.idService,r=t.name,i=t.description;n.ref.add({idService:a,name:r,description:i}).then((function(e){n.setState({idService:"",name:"",description:""}),n.props.history.push("/AdminService")})).catch((function(e){console.error("Error adding document: ",e)})),alert("Servicio Creado Exitosamente!!")},n.ref=D.firestore().collection("services"),n.state={idService:"",name:"",description:""},n.unsubscribe=null,n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate)}},{key:"render",value:function(){var e=this.state;e.name,e.description;return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"panel panel-default"},r.a.createElement("div",{class:"panel-heading"},r.a.createElement("h3",{class:"panel-title"},"CREAR NUEVO SERVICIO")),r.a.createElement("div",{class:"panel-body"},r.a.createElement("h4",null,r.a.createElement(l.b,{to:"/AdminService",class:"btn btn-primary"},"Volver")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"select-service"},"Nombre del Servicio"),r.a.createElement("input",{type:"text",class:"form-control",name:"name",value:this.state.name,onChange:this.onChange,placeholder:"Nombre del Servicio",minlength:"3",maxlength:"100","data-toggle":"tooltip",title:"Ingresa un Servicio",required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"dateFormatString"},"Descripci\xf3n del Servicio"),r.a.createElement("input",{type:"text",class:"form-control",name:"description",value:this.state.description,onChange:this.onChange,placeholder:"Descripci\xf3n del Servicio",minlength:"5",maxlength:"200","data-toggle":"tooltip",title:"Describe el Servicio",required:!0})),r.a.createElement("button",{type:"submit",class:"btn btn-success"},"Aceptar")))))}}]),a}(n.Component),k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.idService,r=a.name,i=a.description;t.push({key:e.id,doc:e,idService:n,name:r,description:i})})),n.setState({services:t})},n.onChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState({state:t})},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.idService,r=t.name,i=t.description;h.firestore().collection("services").doc(n.state.key).set({idService:a,name:r,description:i}).then((function(e){n.setState({key:"",idService:"",name:"",description:""}),n.props.history.push("/AdminService")})).catch((function(e){console.error("Error adding document: ",e)})),alert("Servicio Editado Exitosamente!!")},n.state={key:"",idService:"",name:"",description:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=h.firestore().collection("services").doc(this.props.match.params.id);console.log("Params",this.props.match.params.id),t.get().then((function(t){if(t.exists){var a=t.data();e.setState({key:t.id,idService:a.idService,name:a.name,description:a.description})}else console.log("No such document!")}))}},{key:"render",value:function(){return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"panel panel-default"},r.a.createElement("div",{class:"panel-heading"},r.a.createElement("h3",{class:"panel-title"},"AREA DE ADMINISTRADOR - EDITAR SERVICIO")),r.a.createElement("div",{class:"panel-body"},r.a.createElement("h4",null,r.a.createElement(l.b,{to:"/AdminService",class:"btn btn-primary"},"Volver")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"select-service"},"Nombre del Servicio"),r.a.createElement("input",{type:"text",class:"form-control",name:"name",value:this.state.name,onChange:this.onChange,placeholder:"Nombre del Servicio",minlength:"3",maxlength:"100","data-toggle":"tooltip",title:"Ingresa un Servicio",required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"select-service"},"Descripcion del Servicio"),r.a.createElement("input",{type:"text",class:"form-control",name:"description",value:this.state.description,onChange:this.onChange,placeholder:"Descripci\xf3n del Servicio",minlength:"5",maxlength:"200","data-toggle":"tooltip",title:"Describe el Servicio",required:!0})),r.a.createElement("button",{type:"submit",class:"btn btn-success"},"Guardar Cambios")))))}}]),a}(n.Component);c.a.render(r.a.createElement(l.a,{basename:"/reactagenda"},r.a.createElement("div",null,r.a.createElement(o.a,{exact:!0,path:"/",component:E}),r.a.createElement(o.a,{path:"/AdminEdit/:id",component:b}),r.a.createElement(o.a,{path:"/create",component:y}),r.a.createElement(o.a,{path:"/AdminShow/:id",component:C}),r.a.createElement(o.a,{path:"/AdminApp",component:F}),r.a.createElement(o.a,{path:"/AdminService",component:N}),r.a.createElement(o.a,{path:"/AdminCreateService/",component:A}),r.a.createElement(o.a,{path:"/AdminEditService/:id",component:k}))),document.getElementById("root"))},25:function(e,t,a){},84:function(e,t,a){e.exports=a(159)},89:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.4be83663.chunk.js.map