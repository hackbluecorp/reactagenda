(this.webpackJsonpreactagenda=this.webpackJsonpreactagenda||[]).push([[0],{160:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(36),c=a.n(r),o=a(5),i=a(8),m=(a(51),a(89),a(22)),s=a(23),d=a(25),u=a(24),E=(a(68),a(12)),h=(a(53),a(54),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onCollectionUpdate=function(e){var t=[];e.forEach((function(e){var a=e.data(),n=a.title,l=a.description,r=a.author,c=a.confirmed,o=a.dateFormatDate;t.push({key:e.id,doc:e,title:n,description:l,author:r,confirmed:c,dateFormatDate:o})})),n.setState({coments:t})},n.ref=E.firestore().collection("coments").orderBy("dateFormatDate","desc"),n.unsubscribe=null,n.state={coments:[],date:new Date},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=this.ref.onSnapshot(this.onCollectionUpdate),this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading"},l.a.createElement("h2",{style:{color:"red"}},"APLICATIVO DE AGENDAMIENTO - VERSION DE PRUEBA - BETA 0.2.0"),l.a.createElement("hr",null),l.a.createElement("h3",{class:"panel-title"},"SERVICIOS AGENDADOS")),l.a.createElement("div",{class:"panel-body"},l.a.createElement("h4",null,l.a.createElement(o.b,{to:"/create",class:"btn btn-primary"},"Agendar Nuevo Servicio")),l.a.createElement("div",null,l.a.createElement("strong",null,"Fecha y hora actual ")),l.a.createElement("div",null,l.a.createElement("label",null,this.state.date.toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:"false"}))),l.a.createElement("table",{class:"table table-stripe"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Detalle del Servicio"),l.a.createElement("th",null,"Tipo de Servicio"),l.a.createElement("th",null,"Fecha y Hora"),l.a.createElement("th",null,"Nombre del Cliente"),l.a.createElement("th",null,"Agenda Confirmada"))),this.state.coments.map((function(t){if(t.dateFormatDate.toDate().getFullYear("en-EN")>e.state.date.getFullYear("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#fff"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.author),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getFullYear("en-EN")<e.state.date.getFullYear("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#ddd"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,l.a.createElement("s",null,t.title)),l.a.createElement("td",null,l.a.createElement("s",null,t.description)),l.a.createElement("td",null,l.a.createElement("s",null,t.author)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getFullYear("en-EN")==e.state.date.getFullYear("en-EN")){if(t.dateFormatDate.toDate().getMonth("en-EN")>e.state.date.getMonth("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#fff"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.author),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getMonth("en-EN")<e.state.date.getMonth("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#ddd"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,l.a.createElement("s",null,t.title)),l.a.createElement("td",null,l.a.createElement("s",null,t.description)),l.a.createElement("td",null,l.a.createElement("s",null,t.author)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getMonth("en-EN")==e.state.date.getMonth("en-EN")){if(t.dateFormatDate.toDate().getDate("en-EN")>e.state.date.getDate("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#fff"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.author),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getDate("en-EN")<e.state.date.getDate("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#ddd"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,l.a.createElement("s",null,t.title)),l.a.createElement("td",null,l.a.createElement("s",null,t.description)),l.a.createElement("td",null,l.a.createElement("s",null,t.author)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getDate("en-EN")==e.state.date.getDate("en-EN")){if(t.dateFormatDate.toDate().getHours("en-EN")>e.state.date.getHours("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#fff"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.author),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getHours("en-EN")<e.state.date.getHours("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#ddd"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,l.a.createElement("s",null,t.title)),l.a.createElement("td",null,l.a.createElement("s",null,t.description)),l.a.createElement("td",null,l.a.createElement("s",null,t.author)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getHours("en-EN")==e.state.date.getHours("en-EN")){if(t.dateFormatDate.toDate().getMinutes("en-EN")>e.state.date.getMinutes("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#fff"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.author),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getMinutes("en-EN")<e.state.date.getMinutes("en-EN"))return l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#ddd"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,l.a.createElement("s",null,t.title)),l.a.createElement("td",null,l.a.createElement("s",null,t.description)),l.a.createElement("td",null,l.a.createElement("s",null,t.author)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))));if(t.dateFormatDate.toDate().getMinutes("en-EN")==e.state.date.getMinutes("en-EN"))return t.dateFormatDate.toDate().getSeconds("en-EN")>=e.state.date.getSeconds("en-EN")?l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#fff"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.author),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0})))):l.a.createElement("tbody",null,l.a.createElement("tr",{bgcolor:"#ddd"},l.a.createElement("td",null,l.a.createElement(o.b,{to:"/show/".concat(t.key),class:"btn btn-primary btn-sm"},"Detalle")),l.a.createElement("td",null,l.a.createElement("s",null,t.title)),l.a.createElement("td",null,l.a.createElement("s",null,t.description)),l.a.createElement("td",null,l.a.createElement("s",null,t.author)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",checked:t.confirmed,disabled:!0}))))}}}}}))))))}}]),a}(n.Component)),b=a(40),p=a(31),f=a(39),g=a.n(f),y=(a(72),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n,l;Object(m.a)(this,a);return(l=t.call(this,e)).onChangeOnlyLetters=function(e){var t=l.state;t[e.target.name]=e.target.value,t[e.target.name]=t[e.target.name].replace(/[^A-Za-z\xc0-\xff]/gi," "),l.setState(t)},l.onChangeChecked=function(e){l.setState({confirmed:e.target.checked})},l.onChange=function(e){var t=l.state;t[e.target.name]=e.target.value,l.setState({Coment:t})},l.onSubmit=function(e){e.preventDefault();var t=l.state,a=t.title,n=t.description,r=t.author,c=t.confirmed,o=t.dateFormatDate;E.firestore().collection("coments").doc(l.state.key).set({title:a,description:n,author:r,confirmed:c,dateFormatDate:o}).then((function(e){l.setState({key:"",title:"",description:"",author:"",confirmed:!1,dateFormatDate:""}),l.props.history.push("/")})).catch((function(e){console.error("Error adding document: ",e)}))},l.state=(n={key:"",title:"",description:""},Object(b.a)(n,"description",(new Date).toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:"false"})),Object(b.a)(n,"author",""),Object(b.a)(n,"confirmed",!1),Object(b.a)(n,"dateFormatDate",""),n),l.handleChange=l.handleChange.bind(Object(p.a)(l)),l}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.firestore().collection("coments").doc(this.props.match.params.id).get().then((function(t){if(t.exists){var a=t.data();e.setState({key:t.id,title:a.title,description:a.description,author:a.author,confirmed:a.confirmed,dateFormatDate:a.dateFormatDate})}else console.log("No such document!")}))}},{key:"handleChange",value:function(e){this.setState({startDate:e,description:e.toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:"false"}),dateFormatDate:e})}},{key:"render",value:function(){return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading"},l.a.createElement("h2",{style:{color:"red"}},"APLICATIVO DE AGENDAMIENTO - VERSION DE PRUEBA - BETA 0.2.0"),l.a.createElement("hr",null),l.a.createElement("h3",{class:"panel-title"},"EDITAR AGENDAMIENTO")),l.a.createElement("div",{class:"panel-body"},l.a.createElement("h4",null,l.a.createElement(o.b,{to:"/show/".concat(this.state.key),class:"btn btn-primary"},"Volver")),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"select-service"},"Tipo de Servicio"),l.a.createElement("div",null,l.a.createElement("select",{name:"title",id:"select-service",value:this.state.title,onChange:this.onChange,required:!0},l.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Escoge un Servicio..."),l.a.createElement("option",{value:"Servicio 1"},"Servicio 1"),",",l.a.createElement("option",{value:"Servicio 2"},"Servicio 2"),",",l.a.createElement("option",{value:"Servicio 3"},"Servicio 3")))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"description"},"Fecha y Hora"),l.a.createElement("div",null,l.a.createElement(g.a,{selected:this.state.startDate,onChange:this.handleChange,showTimeSelect:!0,locale:"es",timeFormat:"h:mm aa",name:"startDate",timeIntervals:30,timeCaption:"Hora",dateFormat:"d MMMM, yyyy h:mm aa",className:"form-control",placeholderText:this.state.description}))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"author"},"Nombre del Cliente"),l.a.createElement("input",{type:"text",class:"form-control",name:"author",value:this.state.author,onChange:this.onChangeOnlyLetters,placeholder:"Nombre del Cliente",required:!0})),l.a.createElement("div",{class:"form-group"},l.a.createElement("div",null,l.a.createElement("label",{for:"confirmed"},"Agenda Confirmada"),l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",value:this.state.confirmed,checked:this.state.confirmed,onChange:this.onChangeChecked})))),l.a.createElement("button",{type:"submit",class:"btn btn-success"},"Guardar Cambios")))))}}]),a}(n.Component));E.initializeApp({apiKey:"AIzaSyBvEExkkpTBf3VYfL7PVScolkMQtP_3q5E",authDomain:"reactagenda-93ffc.firebaseapp.com",databaseURL:"https://reactagenda-93ffc.firebaseio.com",projectId:"reactagenda-93ffc",storageBucket:"reactagenda-93ffc.appspot.com",messagingSenderId:"753510908364",appId:"1:753510908364:web:5396f044547c92efdf9d69"}),E.firestore().settings({});var v=E,D=a(83);Object(f.registerLocale)("es",D.a);var k=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(m.a)(this,a);return(n=t.call(this,e)).onChangeOnlyLetters=function(e){var t=n.state;t[e.target.name]=e.target.value,t[e.target.name]=t[e.target.name].replace(/[^A-Za-z\xc0-\xff]/gi," "),n.setState(t)},n.onChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t)},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,l=t.description,r=t.author,c=t.confirmed,o=t.dateFormatDate;n.ref.add({title:a,description:l,author:r,confirmed:c,dateFormatDate:o}).then((function(e){n.setState({title:"",description:"",author:"",confirmed:!1,dateFormatDate:""}),n.props.history.push("/")})).catch((function(e){console.error("Error adding document: ",e)}))},n.ref=v.firestore().collection("coments"),n.state={title:"",description:(new Date).toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:"false"}),author:"",confirmed:!1,dateFormatDate:new Date,startDate:""},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState({startDate:e,description:e.toLocaleString("es-Co",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:"false"}),dateFormatDate:e})}},{key:"render",value:function(){var e=this.state,t=e.title,a=(e.description,e.author);e.confirmed;return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading"},l.a.createElement("h2",{style:{color:"red"}},"APLICATIVO DE AGENDAMIENTO - VERSION DE PRUEBA - BETA 0.2.0"),l.a.createElement("hr",null),l.a.createElement("h3",{class:"panel-title"},"AGENDAR NUEVO SERVICIO")),l.a.createElement("div",{class:"panel-body"},l.a.createElement("h4",null,l.a.createElement(o.b,{to:"/",class:"btn btn-primary"},"Volver")),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"select-service"},"Tipo de Servicio"),l.a.createElement("div",null,l.a.createElement("select",{name:"title",id:"select-service",value:t,onChange:this.onChange,required:!0},l.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Escoge un Servicio..."),l.a.createElement("option",{value:"Servicio 1"},"Servicio 1"),",",l.a.createElement("option",{value:"Servicio 2"},"Servicio 2"),",",l.a.createElement("option",{value:"Servicio 3"},"Servicio 3")))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"description"},"Fecha y Hora"),l.a.createElement("div",null,l.a.createElement(g.a,{selected:this.state.startDate,onChange:this.handleChange,showTimeSelect:!0,locale:"es",timeFormat:"h:mm aa",name:"startDate",timeIntervals:30,timeCaption:"Hora",dateFormat:"d MMMM, yyyy h:mm aa",className:"form-control",placeholderText:"Click para Escoger una Fecha",required:!0}))),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"author"},"Nombre del Cliente"),l.a.createElement("input",{type:"text",class:"form-control",name:"author",value:a,onChange:this.onChangeOnlyLetters,placeholder:"Nombre del Cliente",required:!0})),l.a.createElement("div",{class:"form-group"},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",disabled:!0,hidden:!0}))),l.a.createElement("button",{type:"submit",class:"btn btn-success"},"Aceptar")))))}}]),a}(n.Component),C=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={Coment:{},key:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.firestore().collection("coments").doc(this.props.match.params.id).get().then((function(t){t.exists?e.setState({Coment:t.data(),key:t.id,isLoading:!1}):console.log("No such document!")}))}},{key:"delete",value:function(e){var t=this;E.firestore().collection("coments").doc(e).delete().then((function(){alert("Registro Eliminado Exitosamente!!"),console.log("Document successfully deleted!"),t.props.history.push("/")})).catch((function(e){console.error("Error removing document: ",e)}))}},{key:"render",value:function(){return l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"panel panel-default"},l.a.createElement("div",{class:"panel-heading"},l.a.createElement("h2",{style:{color:"red"}},"APLICATIVO DE AGENDAMIENTO - VERSION DE PRUEBA - BETA 0.2.0"),l.a.createElement("hr",null),l.a.createElement("h3",{class:"panel-title"},"DETALLE DEL AGENDAMIENTO"),l.a.createElement("h4",null,l.a.createElement(o.b,{to:"/",class:"btn btn-primary"},"Volver")),l.a.createElement("h3",{class:"panel-title"},this.state.Coment.title)),l.a.createElement("div",{class:"panel-body"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Fecha y Hora"),l.a.createElement("dd",null,this.state.Coment.description),l.a.createElement("dt",null,"Nombre del Cliente"),l.a.createElement("dd",null,this.state.Coment.author),l.a.createElement("dt",null,"Agenda Confirmada"),l.a.createElement("dd",null,l.a.createElement("input",{type:"checkbox",checked:this.state.Coment.confirmed,disabled:!0}))),l.a.createElement(o.b,{to:"/edit/".concat(this.state.key),class:"btn btn-success"},"Editar"),"\xa0",l.a.createElement("button",{onClick:this.delete.bind(this,this.state.key),class:"btn btn-danger"},"Eliminar"))))}}]),a}(n.Component);c.a.render(l.a.createElement(o.a,{basename:"/reactagenda"},l.a.createElement("div",null,l.a.createElement(i.a,{exact:!0,path:"/",component:h}),l.a.createElement(i.a,{path:"/edit/:id",component:y}),l.a.createElement(i.a,{path:"/create",component:k}),l.a.createElement(i.a,{path:"/show/:id",component:C}))),document.getElementById("root"))},68:function(e,t,a){},84:function(e,t,a){e.exports=a(160)},89:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.007e1961.chunk.js.map